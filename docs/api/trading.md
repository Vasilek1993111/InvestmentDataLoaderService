# API ‚Äî –¢–æ—Ä–≥–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (`/api/trading`)

## –û–±–∑–æ—Ä

API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ—Ä–≥–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Tinkoff Invest API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- **–°—á–µ—Ç–∞** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—á–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–¢–æ—Ä–≥–æ–≤—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–µ—Å—Å–∏—è—Ö –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏
- **–¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã** - —Ç–µ–∫—É—â–∏–µ —Å—Ç–∞—Ç—É—Å—ã —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º
- **–¢–æ—Ä–≥–æ–≤—ã–µ –¥–Ω–∏** - –∞–Ω–∞–ª–∏–∑ —Ç–æ—Ä–≥–æ–≤—ã—Ö –∏ –Ω–µ—Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω–µ–π
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Ç–æ—Ä–≥–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–ë–∞–∑–æ–≤—ã–π URL:** `http://localhost:8083/api/trading` (PROD) / `http://localhost:8087/api/trading` (TEST)

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω Tinkoff Invest API –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `T_INVEST_TOKEN`

---

## GET /api/trading/accounts

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—á–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—á–µ—Ç–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ç–æ–∫–µ–Ω–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
curl "http://localhost:8083/api/trading/accounts"
```

**–û—Ç–≤–µ—Ç (–ø—Ä–∏–º–µ—Ä):**
```json
[
  {
    "id": "2000123456",
    "name": "–ë—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á–µ—Ç",
    "type": "ACCOUNT_TYPE_TINKOFF"
  }
]
```

## GET /api/trading/schedules

–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–µ—Å—Å–∏—è—Ö –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –±–∏—Ä–∂–∏ –∏ –ø–µ—Ä–∏–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `exchange` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –±–∏—Ä–∂–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: MOEX, SPB)
- `from` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è)
- `to` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è + 1 –¥–µ–Ω—å)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ü–µ—Ä–∏–æ–¥ –º–µ–∂–¥—É from –∏ to: –º–∏–Ω–∏–º—É–º 1 –¥–µ–Ω—å, –º–∞–∫—Å–∏–º—É–º 14 –¥–Ω–µ–π
- –î–∞—Ç—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 1 –≥–æ–¥ –≤ –±—É–¥—É—â–µ–º

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
curl "http://localhost:8083/api/trading/schedules"

# –¢–æ–ª—å–∫–æ –±–∏—Ä–∂–∞
curl "http://localhost:8083/api/trading/schedules?exchange=MOEX"

# –° –ø–µ—Ä–∏–æ–¥–æ–º
curl "http://localhost:8083/api/trading/schedules?from=2024-01-01T00:00:00Z&to=2024-01-10T00:00:00Z"

# –ü–æ–ª–Ω—ã–π –∑–∞–ø—Ä–æ—Å
curl "http://localhost:8083/api/trading/schedules?exchange=MOEX&from=2024-01-01T00:00:00Z&to=2024-01-10T00:00:00Z"
```

**–û—Ç–≤–µ—Ç (–ø—Ä–∏–º–µ—Ä):**
```json
[
  {
    "exchange": "MOEX",
    "days": [
      {
        "date": "2024-01-02",
        "isTradingDay": true,
        "startTime": "2024-01-02T06:50:00+03:00",
        "endTime": "2024-01-02T23:59:59+03:00"
      },
      {
        "date": "2024-01-06",
        "isTradingDay": false,
        "startTime": null,
        "endTime": null
      }
    ]
  }
]
```

## GET /api/trading/schedules

–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–µ—Å—Å–∏—è—Ö –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –±–∏—Ä–∂–∏ –∏ –ø–µ—Ä–∏–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `exchange` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –±–∏—Ä–∂–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: MOEX, SPB)
- `from` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è)
- `to` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è + 1 –¥–µ–Ω—å)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ü–µ—Ä–∏–æ–¥ –º–µ–∂–¥—É from –∏ to: –º–∏–Ω–∏–º—É–º 1 –¥–µ–Ω—å, –º–∞–∫—Å–∏–º—É–º 14 –¥–Ω–µ–π
- –î–∞—Ç—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 1 –≥–æ–¥ –≤ –±—É–¥—É—â–µ–º

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
curl "http://localhost:8083/api/trading/schedules"

# –¢–æ–ª—å–∫–æ –±–∏—Ä–∂–∞
curl "http://localhost:8083/api/trading/schedules?exchange=MOEX"

# –° –ø–µ—Ä–∏–æ–¥–æ–º
curl "http://localhost:8083/api/trading/schedules?from=2024-01-01T00:00:00Z&to=2024-01-10T00:00:00Z"

# –ü–æ–ª–Ω—ã–π –∑–∞–ø—Ä–æ—Å
curl "http://localhost:8083/api/trading/schedules?exchange=MOEX&from=2024-01-01T00:00:00Z&to=2024-01-10T00:00:00Z"
```

**–û—Ç–≤–µ—Ç (–ø—Ä–∏–º–µ—Ä):**
```json
[
  {
    "exchange": "MOEX",
    "days": [
      {
        "date": "2024-01-02",
        "isTradingDay": true,
        "startTime": "2024-01-02T06:50:00+03:00",
        "endTime": "2024-01-02T23:59:59+03:00"
      },
      {
        "date": "2024-01-06",
        "isTradingDay": false,
        "startTime": null,
        "endTime": null
      }
    ]
  }
]
```

## GET /api/trading/statuses

–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `instrumentId` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Å–ø–∏—Å–æ–∫ FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `figi` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –æ–¥–∏–Ω FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä (instrumentId –∏–ª–∏ figi)
- –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –æ–±–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –∞ –Ω–µ —Ç–∏–∫–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: BBG004730N88 –≤–º–µ—Å—Ç–æ SBER)

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –û–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ figi
curl "http://localhost:8083/api/trading/statuses?figi=BBG004730N88"

# –ù–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ instrumentId
curl "http://localhost:8083/api/trading/statuses?instrumentId=BBG004730N88&instrumentId=BBG004730ZJ9"

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
curl "http://localhost:8083/api/trading/statuses?figi=BBG004730N88&instrumentId=BBG004730ZJ9"
```

**–û—Ç–≤–µ—Ç (–ø—Ä–∏–º–µ—Ä):**
```json
{
  "success": true,
  "data": [
    {
      "figi": "BBG004730N88",
      "status": "SECURITY_TRADING_STATUS_NORMAL_TRADING"
    }
  ],
  "count": 1,
  "requested_instruments": 1,
  "instruments": ["BBG004730N88"]
}
```

## GET /api/trading/trading-days

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ—Ä–≥–æ–≤—ã—Ö –∏ –Ω–µ—Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω—è—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥.

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–æ—Ä–≥–æ–≤—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –¥–Ω–∏ –ø–æ —Ç–∏–ø–∞–º —Ç–æ—Ä–≥–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `exchange` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –±–∏—Ä–∂–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: MOEX, SPB)
- `from` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è)
- `to` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è + 1 –¥–µ–Ω—å)

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
curl "http://localhost:8083/api/trading/trading-days"

# –¢–æ–ª—å–∫–æ –±–∏—Ä–∂–∞
curl "http://localhost:8083/api/trading/trading-days?exchange=MOEX"

# –° –ø–µ—Ä–∏–æ–¥–æ–º
curl "http://localhost:8083/api/trading/trading-days?from=2024-01-01T00:00:00Z&to=2024-01-10T00:00:00Z"

# –ü–æ–ª–Ω—ã–π –∑–∞–ø—Ä–æ—Å
curl "http://localhost:8083/api/trading/trading-days?exchange=MOEX&from=2024-01-01T00:00:00Z&to=2024-01-10T00:00:00Z"
```

**–û—Ç–≤–µ—Ç (–ø—Ä–∏–º–µ—Ä):**
```json
{
  "success": true,
  "trading_days": {
    "2024-01-02": "trading",
    "2024-01-06": "non-trading"
  },
  "trading_days_count": 6,
  "non_trading_days_count": 4,
  "total_days": 10,
  "from": "2024-01-01T00:00:00Z",
  "to": "2024-01-10T00:00:00Z",
  "exchange": "MOEX"
}
```

## GET /api/trading/stats

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç–æ—Ä–≥–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥.

–í—ã—á–∏—Å–ª—è–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –∏ –Ω–µ—Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω–µ–π, –∞ —Ç–∞–∫–∂–µ –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `exchange` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –±–∏—Ä–∂–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: MOEX, SPB)
- `from` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è)
- `to` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è + 1 –¥–µ–Ω—å)

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
curl "http://localhost:8083/api/trading/stats"

# –¢–æ–ª—å–∫–æ –±–∏—Ä–∂–∞
curl "http://localhost:8083/api/trading/stats?exchange=MOEX"

# –° –ø–µ—Ä–∏–æ–¥–æ–º
curl "http://localhost:8083/api/trading/stats?from=2024-01-01T00:00:00Z&to=2024-01-31T00:00:00Z"

# –ü–æ–ª–Ω—ã–π –∑–∞–ø—Ä–æ—Å
curl "http://localhost:8083/api/trading/stats?exchange=MOEX&from=2024-01-01T00:00:00Z&to=2024-01-31T00:00:00Z"
```

**–û—Ç–≤–µ—Ç (–ø—Ä–∏–º–µ—Ä):**
```json
{
  "success": true,
  "period": {
    "from": "2024-01-01T00:00:00Z",
    "to": "2024-01-31T00:00:00Z",
    "exchange": "MOEX"
  },
  "trading_days": 20,
  "non_trading_days": 11,
  "total_days": 31,
  "trading_percentage": 64.52
}
```


---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
–í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ Tinkoff Invest API.

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–¢–æ—Ä–≥–æ–≤—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è** - –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 30 –º–∏–Ω—É—Ç
- **–¢–æ—Ä–≥–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã** - –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 5 –º–∏–Ω—É—Ç
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API
- **Tinkoff API** - 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- **–ü–µ—Ä–∏–æ–¥ –∑–∞–ø—Ä–æ—Å–∞** - –º–∞–∫—Å–∏–º—É–º 14 –¥–Ω–µ–π –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** - –º–∞–∫—Å–∏–º—É–º 100 –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤

### –¢–∞–π–º–∑–æ–Ω—ã
- **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - UTC (ISO 8601)
- **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –º–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è (UTC+3)
- **–¢–æ—Ä–≥–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏** - –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏

## ‚ö†Ô∏è –û—à–∏–±–∫–∏ –∏ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã:

- **200 OK** - —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- **400 Bad Request** - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- **500 Internal Server Error** - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- **503 Service Unavailable** - –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Tinkoff API

–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –ø–æ–ª—è–º–∏:
- `success` - —Å—Ç–∞—Ç—É—Å –æ–ø–µ—Ä–∞—Ü–∏–∏ (true/false)
- `message` - –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
- `error` - –∫–æ–¥ –æ—à–∏–±–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `details` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:**
```json
{
  "success": false,
  "message": "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä 'instrumentId' –∏–ª–∏ 'figi'",
  "error": "MISSING_PARAMETER"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏ Tinkoff API:**
```json
{
  "success": false,
  "message": "–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤: Tinkoff API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω",
  "error": "EXTERNAL_API_ERROR"
}
```
