# Docker profile configuration
# Настройки для работы в Docker контейнере

# Database configuration for Docker
spring.datasource.url=jdbc:postgresql://host.docker.internal:5434/postgres
spring.datasource.username=postgres
spring.datasource.password=123password123

# Tinkoff API
tinkoff.api.token=${T_INVEST_TOKEN}

# Server configuration
server.port=8083

# JPA / Hibernate settings for Docker
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.default_schema=invest

# Connection pool optimization for Docker
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.leak-detection-threshold=60000

# JPA batch processing
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Transaction settings
spring.transaction.default-timeout=300
spring.jpa.properties.hibernate.connection.autocommit=false

# Application timezone
app.timezone=Europe/Moscow
