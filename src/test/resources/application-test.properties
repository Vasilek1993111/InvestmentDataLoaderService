# Тестовая конфигурация для интеграционных тестов
spring.datasource.url=jdbc:postgresql://localhost:5434/postgres
spring.datasource.username=postgres
spring.datasource.password=123password123

spring.datasource.driver-class-name=org.postgresql.Driver

# JPA настройки для тестов
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Отключаем кэширование для тестов
spring.cache.type=none

# Логирование для тестов
logging.level.root=OFF
logging.level.org.springframework=ERROR
logging.level.com.example.InvestmentDataLoaderService=ERROR
logging.level.org.springframework.web=ERROR
logging.level.org.hibernate=ERROR
logging.level.org.hibernate.SQL=ERROR
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=ERROR
logging.level.io.grpc=ERROR
logging.level.ru.tinkoff.piapi=ERROR

# T-Invest API настройки (используем тестовый токен)
tinkoff.api.token=${T_INVEST_TEST_TOKEN:t.Ua9IlqoVG-j8LJ7DjqMdaYv7_MprwTe4dnHyHFdlP5mMpSAL_OE55tbHaHlv2zXwqa1MeSpWaJ8aU62_SVouBw}

# Отключаем планировщики в тестах
spring.task.scheduling.enabled=false

# Отключаем создание файлов дампа AspectJ
org.aspectj.weaver.Dump.condition=abort
org.aspectj.weaver.Dump.file=false
org.aspectj.weaver.Dump.onException=false
org.aspectj.weaver.Dump.atExitCondition=never