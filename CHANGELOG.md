# Changelog

Все значимые изменения в проекте документируются в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект следует [Semantic Versioning](https://semver.org/lang/ru/).

## [Unreleased]

### Добавлено
- Документация проекта (README, API, Development Guide, Deployment Guide)
- Примеры использования API
- FAQ с часто задаваемыми вопросами

### Изменено
- Улучшена структура документации

## [0.0.1-SNAPSHOT] - 2024-01-02

### Добавлено
- Базовая функциональность сбора данных о российских акциях и фьючерсах
- Интеграция с API Тинькофф Инвестиций через gRPC
- REST API для доступа к данным
- Автоматический сбор цен закрытия по расписанию
- Хранение данных в PostgreSQL
- Планировщик задач для автоматизации процессов

### Основные компоненты
- **TInvestService** - основной сервис для работы с API Тинькофф
- **ClosePriceSchedulerService** - планировщик для автоматического сбора данных
- **TInvestController** - REST API контроллер
- **AdminController** - административные функции
- **GrpcConfig** - конфигурация gRPC клиента

### API Endpoints
- `GET /shares` - получение списка акций
- `GET /futures` - получение списка фьючерсов
- `GET /close-prices` - получение цен закрытия
- `GET /trading-schedules` - получение торговых расписаний
- `GET /trading-statuses` - получение статусов торговли
- `POST /admin/load-close-prices` - принудительная загрузка цен
- `POST /admin/load-close-prices/{date}` - перезагрузка цен за дату

### Модели данных
- **ShareEntity** - информация об акциях
- **FutureEntity** - информация о фьючерсах
- **ClosePriceEntity** - цены закрытия
- **LastPriceEntity** - последние цены

### Технические характеристики
- Spring Boot 3.5.4
- Java 21
- PostgreSQL 12+
- Tinkoff PI API SDK 1.7
- gRPC 1.58.1
- Lombok для упрощения кода

### Конфигурация
- Автоматический сбор цен закрытия каждый день в 20:00 по МСК
- Поддержка фильтрации по бирже, валюте, статусу
- Автоматическое сохранение новых инструментов
- Предотвращение дублирования записей

### Безопасность
- TLS соединение с API Тинькофф
- Bearer токен авторизация
- Валидация входных параметров

### Производительность
- Оптимизированные запросы к базе данных
- Эффективная обработка больших объемов данных
- Сортировка результатов для улучшения UX

---

## Типы изменений

- **Добавлено** - новые функции
- **Изменено** - изменения в существующей функциональности
- **Устарело** - функции, которые будут удалены в будущих версиях
- **Удалено** - удаленные функции
- **Исправлено** - исправления ошибок
- **Безопасность** - исправления уязвимостей

## Ссылки

- [GitHub Repository](https://github.com/your-username/ingestion-service)
- [API Documentation](docs/API.md)
- [Development Guide](docs/DEVELOPMENT.md)
- [Deployment Guide](docs/DEPLOYMENT.md)
- [Examples](docs/EXAMPLES.md)
- [FAQ](docs/FAQ.md)